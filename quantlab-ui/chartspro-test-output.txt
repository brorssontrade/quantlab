
> quantlab-ui@0.0.0 test:chartspro
> npx playwright test tests/chartsPro.contract.spec.ts tests/chartsPro.cp2.spec.ts tests/chartsPro.cp7.spec.ts tests/chartsPro.cp8.spec.ts tests/chartsPro.compareModes.spec.ts --project=chromium --workers=1 --reporter=line


Running 5 tests using 1 worker

[1A[2K[1/5] [chromium] Î“Ã‡â•‘ tests\chartsPro.compareModes.spec.ts:19:1 Î“Ã‡â•‘ compare add modes: samePercent, newPriceScale, newPane
[1A[2K[chromium] Î“Ã‡â•‘ tests\chartsPro.compareModes.spec.ts:19:1 Î“Ã‡â•‘ compare add modes: samePercent, newPriceScale, newPane
Î“Â£Ã´ samePercent addMode applied and percent block present

[1A[2KÎ“Â£Ã´ newPriceScale applied, compare in main pane with own price scale (addMode set)

[1A[2KÎ“Â£Ã´ newPane created and paneId assigned; layout.panes increased

[1A[2K
Î“Â£Ã  compareModes checks passed

[1A[2K[2/5] [chromium] Î“Ã‡â•‘ tests\chartsPro.contract.spec.ts:3:1 Î“Ã‡â•‘ ChartsPro QA contract exposes set/dump/_applyPatch
[1A[2K[3/5] [chromium] Î“Ã‡â•‘ tests\chartsPro.cp2.spec.ts:32:1 Î“Ã‡â•‘ ChartsPro CP2 smoke (candles + compare overlays)
[1A[2K[chromium] Î“Ã‡â•‘ tests\chartsPro.cp2.spec.ts:32:1 Î“Ã‡â•‘ ChartsPro CP2 smoke (candles + compare overlays)
BROWSER: log __lwcharts.hoverAt -> target: anchor timeKey: 1704348000 visible.len: 12 base.len: 12 snapshot: true

[1A[2K[4/5] [chromium] Î“Ã‡â•‘ tests\chartsPro.cp7.spec.ts:28:1 Î“Ã‡â•‘ ChartsPro CP7 legend/scale/last-value parity
[1A[2K  1) [chromium] Î“Ã‡â•‘ tests\chartsPro.cp7.spec.ts:28:1 Î“Ã‡â•‘ ChartsPro CP7 legend/scale/last-value parity Î“Ã¶Ã‡Î“Ã¶Ã‡

    [31mTest timeout of 30000ms exceeded.[39m

    Error: page.waitForFunction: Test timeout of 30000ms exceeded.

      58 |   });
      59 |
    > 60 |   await page.waitForFunction(() => {
         |              ^
      61 |     const api = (window as any).__lwcharts;
      62 |     const dump = api?.dump?.();
      63 |     return dump && dump.hover && Number.isFinite(dump.hover?.base?.percent);
        at C:\Users\Viktor Brorsson\Desktop\quantlab\quantlab-ui\tests\chartsPro.cp7.spec.ts:60:14

    Error Context: test-results\chartsPro.cp7-ChartsPro-CP7-legend-scale-last-value-parity-chromium\error-context.md


[1A[2K[5/5] [chromium] Î“Ã‡â•‘ tests\chartsPro.cp8.spec.ts:43:1 Î“Ã‡â•‘ ChartsPro CP8 visual parity & layout persistence
[1A[2K  1 failed
    [chromium] Î“Ã‡â•‘ tests\chartsPro.cp7.spec.ts:28:1 Î“Ã‡â•‘ ChartsPro CP7 legend/scale/last-value parity Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡
  4 passed (50.5s)
